--- origsrc/gnome-settings-daemon-3.0.2/configure.ac	2011-05-31 21:27:11.796087800 -0500
+++ src/gnome-settings-daemon-3.0.2/configure.ac	2011-05-31 21:31:18.925222800 -0500
@@ -78,6 +78,9 @@ PKG_CHECK_MODULES(SETTINGS_PLUGIN,
 
 GSD_PLUGIN_LDFLAGS="-export_dynamic -module -avoid-version -no-undefined"
 case $host_os in
+  cygwin*)
+    GSD_PLUGIN_LDFLAGS="${GSD_PLUGIN_LDFLAGS} -Wl,\$(top_builddir)/gnome-settings-daemon/libgsd-plugin-$GSD_API_VERSION.a"
+    ;;
   darwin*)
     GSD_PLUGIN_LDFLAGS="${GSD_PLUGIN_LDFLAGS} -Wl,-bundle_loader,\$(top_builddir)/gnome-settings-daemon/gnome-settings-daemon"
     ;;
--- origsrc/gnome-settings-daemon-3.0.2/data/gnome-settings-daemon.pc.in	2011-05-09 02:35:19.000000000 -0500
+++ src/gnome-settings-daemon-3.0.2/data/gnome-settings-daemon.pc.in	2011-05-31 21:30:44.219237800 -0500
@@ -10,5 +10,5 @@ Name: gnome-settings-daemon
 Description: Utility library for accessing gnome-settings-daemon over DBUS
 Requires: glib-2.0 dbus-1 dbus-glib-1
 Version: @VERSION@
-Libs: -L${libdir}
+Libs: -L${libdir} -lgsd-plugin-@GSD_API_VERSION@
 Cflags: -I${includedir}/gnome-settings-daemon-@GSD_API_VERSION@
--- origsrc/gnome-settings-daemon-3.0.2/gnome-settings-daemon/Makefile.am	2011-05-31 21:27:11.801088100 -0500
+++ src/gnome-settings-daemon-3.0.2/gnome-settings-daemon/Makefile.am	2011-05-31 21:54:03.444878100 -0500
@@ -66,6 +66,8 @@ gnome_settings_daemon_CFLAGS = 		\
 	$(AM_CFLAGS)
 
 gnome_settings_daemon_LDFLAGS = 	\
+	-export-dynamic			\
+	-Wl,--out-implib,libgsd-plugin-$(GSD_API_VERSION).a	\
 	$(AM_LDFLAGS)
 
 gnome_settings_daemon_LDADD = 		\
